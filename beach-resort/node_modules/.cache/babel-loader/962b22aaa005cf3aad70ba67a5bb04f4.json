{"ast":null,"code":"var _jsxFileName = \"/Users/namkwon/Documents/React-side-projects/beach-resort/src/contexts/rootContext.js\";\nimport React, { createContext, useEffect, useReducer } from 'react';\nimport items from '../data';\nimport RoomReducer from '../Reducer/RootReducer';\nconst RoomContext = createContext();\n\nconst RootContext = ({\n  children\n}) => {\n  const [data, dispatch] = useReducer(RoomReducer, [{\n    rooms: [],\n    sortedRooms: [],\n    featuredRooms: [],\n    loading: true\n  }]);\n  useEffect(() => {\n    return (() => {\n      const formatData = items => {\n        let tempItems = items.map(item => {\n          let id = item.sys.id;\n          let images = item.fields.images.map(image => image.fields.file.url);\n          let room = { ...item.fields,\n            id,\n            images\n          };\n          return room;\n        });\n        return tempItems;\n      };\n\n      dispatch({\n        type: 'INIT',\n        rooms: formatData(items)\n      });\n    })();\n  }, [data]);\n  return /*#__PURE__*/React.createElement(RoomContext.Provider, {\n    value: { ...data\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nexport { RootContext, RoomContext };","map":{"version":3,"sources":["/Users/namkwon/Documents/React-side-projects/beach-resort/src/contexts/rootContext.js"],"names":["React","createContext","useEffect","useReducer","items","RoomReducer","RoomContext","RootContext","children","data","dispatch","rooms","sortedRooms","featuredRooms","loading","formatData","tempItems","map","item","id","sys","images","fields","image","file","url","room","type"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,UAA1C,QAA4D,OAA5D;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,WAAW,GAAGL,aAAa,EAAjC;;AAEA,MAAMM,WAAW,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AACpC,QAAM,CAACC,IAAD,EAAOC,QAAP,IAAmBP,UAAU,CAACE,WAAD,EAAc,CAC/C;AACEM,IAAAA,KAAK,EAAE,EADT;AAEEC,IAAAA,WAAW,EAAE,EAFf;AAGEC,IAAAA,aAAa,EAAE,EAHjB;AAIEC,IAAAA,OAAO,EAAE;AAJX,GAD+C,CAAd,CAAnC;AASAZ,EAAAA,SAAS,CAAC,MAAM;AACd,WAAO,CAAC,MAAM;AACZ,YAAMa,UAAU,GAAIX,KAAD,IAAW;AAC5B,YAAIY,SAAS,GAAGZ,KAAK,CAACa,GAAN,CAAWC,IAAD,IAAU;AAClC,cAAIC,EAAE,GAAGD,IAAI,CAACE,GAAL,CAASD,EAAlB;AACA,cAAIE,MAAM,GAAGH,IAAI,CAACI,MAAL,CAAYD,MAAZ,CAAmBJ,GAAnB,CAAwBM,KAAD,IAAWA,KAAK,CAACD,MAAN,CAAaE,IAAb,CAAkBC,GAApD,CAAb;AACA,cAAIC,IAAI,GAAG,EAAE,GAAGR,IAAI,CAACI,MAAV;AAAkBH,YAAAA,EAAlB;AAAsBE,YAAAA;AAAtB,WAAX;AACA,iBAAOK,IAAP;AACD,SALe,CAAhB;AAMA,eAAOV,SAAP;AACD,OARD;;AASAN,MAAAA,QAAQ,CAAC;AAAEiB,QAAAA,IAAI,EAAE,MAAR;AAAgBhB,QAAAA,KAAK,EAAEI,UAAU,CAACX,KAAD;AAAjC,OAAD,CAAR;AACD,KAXM,GAAP;AAYD,GAbQ,EAaN,CAACK,IAAD,CAbM,CAAT;AAeA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE,EAAE,GAAGA;AAAL,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2CD,QAA3C,CADF;AAGD,CA5BD;;AA8BA,SAASD,WAAT,EAAsBD,WAAtB","sourcesContent":["import React, { createContext, useEffect, useReducer } from 'react';\nimport items from '../data';\n\nimport RoomReducer from '../Reducer/RootReducer';\n\nconst RoomContext = createContext();\n\nconst RootContext = ({ children }) => {\n  const [data, dispatch] = useReducer(RoomReducer, [\n    {\n      rooms: [],\n      sortedRooms: [],\n      featuredRooms: [],\n      loading: true,\n    },\n  ]);\n\n  useEffect(() => {\n    return (() => {\n      const formatData = (items) => {\n        let tempItems = items.map((item) => {\n          let id = item.sys.id;\n          let images = item.fields.images.map((image) => image.fields.file.url);\n          let room = { ...item.fields, id, images };\n          return room;\n        });\n        return tempItems;\n      };\n      dispatch({ type: 'INIT', rooms: formatData(items) });\n    })();\n  }, [data]);\n\n  return (\n    <RoomContext.Provider value={{ ...data }}>{children}</RoomContext.Provider>\n  );\n};\n\nexport { RootContext, RoomContext };\n"]},"metadata":{},"sourceType":"module"}