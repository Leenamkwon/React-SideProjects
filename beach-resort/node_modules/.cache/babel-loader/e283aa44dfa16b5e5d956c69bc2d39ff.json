{"ast":null,"code":"var _jsxFileName = \"/Users/namkwon/Downloads/beach-resort/src/components/context.js\";\nimport React, { Component } from 'react';\nimport items from '../data';\nconst RoomContext = React.createContext();\n\nclass RoomProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rooms: [],\n      sortedRooms: [],\n      featuredRooms: [],\n      loading: true\n    };\n\n    this.formatData = items => {\n      let tempItems = items.map(item => {\n        let id = item.sys.id;\n        let img = item.fields.images.map(image => image.fields.file.url);\n        let room = { ...item.fields,\n          img,\n          id\n        };\n        return room;\n      });\n      return tempItems;\n    };\n  }\n\n  componentDidMount() {\n    let rooms = this.formatData(items);\n    let featuredRooms = rooms.filter(room => room.featured === true);\n    this.setState({ ...this.state,\n      rooms\n    }, () => {\n      console.log(this.state);\n    });\n    console.log(this.state);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(RoomContext.Provider, {\n      value: { ...this.state\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    }, this.props.children);\n  }\n\n}\n\nconst RoomConsumer = RoomContext.Consumer;\nexport { RoomProvider, RoomConsumer, RoomContext }; // const RoomProvider = ({ children }) => {\n//   // const [Rooms, setRooms] = useState([]);\n//   // const [sortedRooms, setSortedRooms] = useState([]);\n//   // const [featuredRooms, setFeaturedRooms] = useState([]);\n//   // const [loading, setloading] = useState([]);\n//   const [update, setUpdate] = useState({\n//     rooms: [],\n//     sorted: [],\n//     featured: [],\n//     loading: true,\n//   });\n//   useEffect(() => {\n//     const rooms2 = formatData(items);\n//     const featured = rooms2.filter((room) => {\n//       return room.featured === true;\n//     });\n//     setUpdate((update.rooms = rooms2));\n//     setUpdate((update.sorted = rooms2));\n//     setUpdate((update.featured = featured));\n//     setUpdate((update.loading = 'false'));\n//     console.log(update);\n//   }, [update.rooms, update.featured]);\n//   const formatData = (items) => {\n//     console.log('hi');\n//     let tempItems = items.map((item) => {\n//       let id = item.sys.id;\n//       let img = item.fields.images.map((image) => image.fields.file.url);\n//       let room = { ...item.fields, img, id };\n//       return room;\n//     });\n//     return tempItems;\n//   };\n//   return (\n//     <RoomContext.Provider value={'ㅇㅁㅇ'}>{children}</RoomContext.Provider>\n//   );\n// };\n// const RoomConsumer = RoomContext.Consumer;\n// export { RoomProvider, RoomConsumer, RoomContext };","map":{"version":3,"sources":["/Users/namkwon/Downloads/beach-resort/src/components/context.js"],"names":["React","Component","items","RoomContext","createContext","RoomProvider","state","rooms","sortedRooms","featuredRooms","loading","formatData","tempItems","map","item","id","sys","img","fields","images","image","file","url","room","componentDidMount","filter","featured","setState","console","log","render","props","children","RoomConsumer","Consumer"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,MAAMC,WAAW,GAAGH,KAAK,CAACI,aAAN,EAApB;;AAEA,MAAMC,YAAN,SAA2BJ,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCK,KADmC,GAC3B;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,WAAW,EAAE,EAFP;AAGNC,MAAAA,aAAa,EAAE,EAHT;AAINC,MAAAA,OAAO,EAAE;AAJH,KAD2B;;AAAA,SAmBnCC,UAnBmC,GAmBrBT,KAAD,IAAW;AACtB,UAAIU,SAAS,GAAGV,KAAK,CAACW,GAAN,CAAWC,IAAD,IAAU;AAClC,YAAIC,EAAE,GAAGD,IAAI,CAACE,GAAL,CAASD,EAAlB;AACA,YAAIE,GAAG,GAAGH,IAAI,CAACI,MAAL,CAAYC,MAAZ,CAAmBN,GAAnB,CAAwBO,KAAD,IAAWA,KAAK,CAACF,MAAN,CAAaG,IAAb,CAAkBC,GAApD,CAAV;AACA,YAAIC,IAAI,GAAG,EAAE,GAAGT,IAAI,CAACI,MAAV;AAAkBD,UAAAA,GAAlB;AAAuBF,UAAAA;AAAvB,SAAX;AACA,eAAOQ,IAAP;AACD,OALe,CAAhB;AAMA,aAAOX,SAAP;AACD,KA3BkC;AAAA;;AAQnCY,EAAAA,iBAAiB,GAAG;AAClB,QAAIjB,KAAK,GAAG,KAAKI,UAAL,CAAgBT,KAAhB,CAAZ;AACA,QAAIO,aAAa,GAAGF,KAAK,CAACkB,MAAN,CAAcF,IAAD,IAAUA,IAAI,CAACG,QAAL,KAAkB,IAAzC,CAApB;AAEA,SAAKC,QAAL,CAAc,EAAE,GAAG,KAAKrB,KAAV;AAAiBC,MAAAA;AAAjB,KAAd,EAAwC,MAAM;AAC5CqB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKvB,KAAjB;AACD,KAFD;AAIAsB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKvB,KAAjB;AACD;;AAYDwB,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAE,EAAE,GAAG,KAAKxB;AAAV,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKyB,KAAL,CAAWC,QADd,CADF;AAKD;;AAnCkC;;AAsCrC,MAAMC,YAAY,GAAG9B,WAAW,CAAC+B,QAAjC;AAEA,SAAS7B,YAAT,EAAuB4B,YAAvB,EAAqC9B,WAArC,G,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA","sourcesContent":["import React, { Component } from 'react';\nimport items from '../data';\n\nconst RoomContext = React.createContext();\n\nclass RoomProvider extends Component {\n  state = {\n    rooms: [],\n    sortedRooms: [],\n    featuredRooms: [],\n    loading: true,\n  };\n\n  componentDidMount() {\n    let rooms = this.formatData(items);\n    let featuredRooms = rooms.filter((room) => room.featured === true);\n\n    this.setState({ ...this.state, rooms }, () => {\n      console.log(this.state);\n    });\n\n    console.log(this.state);\n  }\n\n  formatData = (items) => {\n    let tempItems = items.map((item) => {\n      let id = item.sys.id;\n      let img = item.fields.images.map((image) => image.fields.file.url);\n      let room = { ...item.fields, img, id };\n      return room;\n    });\n    return tempItems;\n  };\n\n  render() {\n    return (\n      <RoomContext.Provider value={{ ...this.state }}>\n        {this.props.children}\n      </RoomContext.Provider>\n    );\n  }\n}\n\nconst RoomConsumer = RoomContext.Consumer;\n\nexport { RoomProvider, RoomConsumer, RoomContext };\n\n// const RoomProvider = ({ children }) => {\n//   // const [Rooms, setRooms] = useState([]);\n//   // const [sortedRooms, setSortedRooms] = useState([]);\n//   // const [featuredRooms, setFeaturedRooms] = useState([]);\n//   // const [loading, setloading] = useState([]);\n//   const [update, setUpdate] = useState({\n//     rooms: [],\n//     sorted: [],\n//     featured: [],\n//     loading: true,\n//   });\n\n//   useEffect(() => {\n//     const rooms2 = formatData(items);\n//     const featured = rooms2.filter((room) => {\n//       return room.featured === true;\n//     });\n\n//     setUpdate((update.rooms = rooms2));\n//     setUpdate((update.sorted = rooms2));\n//     setUpdate((update.featured = featured));\n//     setUpdate((update.loading = 'false'));\n\n//     console.log(update);\n//   }, [update.rooms, update.featured]);\n\n//   const formatData = (items) => {\n//     console.log('hi');\n//     let tempItems = items.map((item) => {\n//       let id = item.sys.id;\n//       let img = item.fields.images.map((image) => image.fields.file.url);\n//       let room = { ...item.fields, img, id };\n\n//       return room;\n//     });\n//     return tempItems;\n//   };\n\n//   return (\n//     <RoomContext.Provider value={'ㅇㅁㅇ'}>{children}</RoomContext.Provider>\n//   );\n// };\n\n// const RoomConsumer = RoomContext.Consumer;\n\n// export { RoomProvider, RoomConsumer, RoomContext };\n"]},"metadata":{},"sourceType":"module"}